<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Document</title>
</head>

<body>
  <button id="test">test</button>
  <script>
    // var port = chrome.runtime.connect({ name: "qos-web-wallet" });
    // port.postMessage({ joke: "qos-web-wallet" });
    // port.onMessage.addListener(function (msg) {
    //   if (msg.question == "是谁？")
    //     port.postMessage({ answer: "女士" });
    //   else if (msg.question == "哪位女士？")
    //     port.postMessage({ answer: "Bovary 女士" });
    // });
    document.getElementById('test').addEventListener('click', function () {
      // window.postMessage({ type: 'toPage', params: { msg: 'Hello, I am page.' } }, '*');
      window.qosApi().then(function (qos) {
        qos.process({
          type: 'transfer',
          data: {
            a:1
          }
        })
      })
    })
    window.addEventListener('DOMContentLoaded', function () {
    })
    console.log(window.qosApi)

  </script>
</body>

</html>
